{
	"info": {
		"_postman_id": "2e948424-b520-4b4a-a6b1-c056250d6d16",
		"name": "Test task",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "6631968"
	},
	"item": [
		{
			"name": "auth",
			"item": [
				{
					"name": "sign-up user",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"test@test.com\",\n    \"password\": \"!1234567\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost/auth/sign-up",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"path": [
								"auth",
								"sign-up"
							]
						}
					},
					"response": []
				},
				{
					"name": "sign-in user",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"testAccessToken\", jsonData.accessToken);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"aaa@aaa.com\",\n    \"password\": \"!1234567\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost/auth/sign-in",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"path": [
								"auth",
								"sign-in"
							]
						}
					},
					"response": []
				},
				{
					"name": "update user",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{testAccessToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"aaa@aaa.com\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost/users/1",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"path": [
								"users",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "get user",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{testAccessToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost/users/1",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"path": [
								"users",
								"1"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "poll",
			"item": [
				{
					"name": "create poll",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{testAccessToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"sections\": [\n        {\n            \"name\": \"Personal\",\n            \"questions\": [\"name?\", \"age?\"]\n        },\n        {\n            \"name\": \"Company\",\n            \"questions\": [\"company name?\", \"salary?\"]\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost/poll",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"path": [
								"poll"
							]
						}
					},
					"response": []
				},
				{
					"name": "update poll",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{testAccessToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"sections\": [\n            {\n            \"id\": \"22\",\n            \"name\": \"Personal\",\n            \"questions\": [\n                {\n                    \"id\": \"35\",\n                    \"text\": \"name?\"\n                },\n                {\n                    \"id\": \"36\",\n                    \"text\": \"age?\"\n                }\n            ]\n        },\n        {\n            \"id\": \"23\",\n            \"name\": \"Company\",\n            \"questions\": [\n                {\n                    \"id\": \"37\",\n                    \"text\": \"company name?\"\n                },\n                {\n                    \"id\": \"38\",\n                    \"text\": \"salary?\"\n                }\n            ]\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost/poll/30",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"path": [
								"poll",
								"30"
							]
						}
					},
					"response": []
				},
				{
					"name": "make poll public",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{testAccessToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"sections\": [\n            {\n            \"id\": \"22\",\n            \"name\": \"Personal\",\n            \"questions\": [\n                {\n                    \"id\": \"35\",\n                    \"text\": \"name?\"\n                },\n                {\n                    \"id\": \"36\",\n                    \"text\": \"age?\"\n                }\n            ]\n        },\n        {\n            \"id\": \"23\",\n            \"name\": \"Company\",\n            \"questions\": [\n                {\n                    \"id\": \"37\",\n                    \"text\": \"company name?\"\n                },\n                {\n                    \"id\": \"38\",\n                    \"text\": \"salary?\"\n                }\n            ]\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost/poll/30",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"path": [
								"poll",
								"30"
							]
						}
					},
					"response": []
				},
				{
					"name": "get one private poll",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{testAccessToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost/poll/27",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"path": [
								"poll",
								"27"
							]
						}
					},
					"response": []
				},
				{
					"name": "get all public polls",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost/poll/public",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"path": [
								"poll",
								"public"
							]
						}
					},
					"response": []
				},
				{
					"name": "get all private polls",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{testAccessToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost/poll/private",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"path": [
								"poll",
								"private"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "answer",
			"item": [
				{
					"name": "answer to public poll",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"answers\": [{\n        \"questionId\": 37,\n        \"text\": \"APPLE LTD\"\n    }, {\n        \"questionId\": 38,\n        \"text\": \"$250.000\"\n    }]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost/answer/30",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"path": [
								"answer",
								"30"
							]
						}
					},
					"response": []
				},
				{
					"name": "get answers of public poll",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost/answer/30",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"path": [
								"answer",
								"30"
							]
						}
					},
					"response": []
				}
			]
		}
	]
}